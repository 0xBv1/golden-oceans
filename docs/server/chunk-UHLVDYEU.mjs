import './polyfills.server.mjs';
import{g as J}from"./chunk-BXWZLDA5.mjs";import"./chunk-OBLWDB6A.mjs";import"./chunk-Y4LU2THC.mjs";import{a as P}from"./chunk-GJVKE5LO.mjs";import"./chunk-L6RUNVBC.mjs";import{a as N}from"./chunk-ZRVJ6HEB.mjs";import{a as U}from"./chunk-XGHYWM42.mjs";import"./chunk-U44SQYLF.mjs";import{a as G}from"./chunk-RHESBNIC.mjs";import{a as $,b as j,c as q}from"./chunk-UNTDOF42.mjs";import"./chunk-2UYROUIQ.mjs";import{a as R}from"./chunk-FJMUSIHF.mjs";import"./chunk-TRU4LM35.mjs";import{$c as H,Aa as y,Db as w,Ea as r,Eb as F,Ec as A,Fa as g,Fb as s,Gb as D,Hb as I,Ob as k,Pb as L,Qb as b,V as _,Va as c,Xa as l,Xc as B,Yb as M,cb as S,eb as E,fb as T,gb as o,hb as n,ib as m,jb as f,kb as h,rb as p,xc as O,yc as z,za as C}from"./chunk-HZT3DEIN.mjs";import"./chunk-VVCT4QZE.mjs";var Q=()=>["/"],K=t=>["/destination",t];function V(t,d){if(t&1&&(o(0,"figure",30),m(1,"img",31),n()),t&2){let e=p().$implicit,i=p();r(),l("src",e,y)("alt",i.destinationDetails==null?null:i.destinationDetails.title)("title",i.destinationDetails==null?null:i.destinationDetails.title)}}function W(t,d){t&1&&(f(0),c(1,V,2,3,"ng-template",29),h())}function X(t,d){if(t&1&&(o(0,"li",23)(1,"span",22),s(2),n()()),t&2){let e=p().$implicit;l("routerLink",b(2,K,e.slug)),r(2),D(e.title)}}function Y(t,d){if(t&1&&c(0,X,3,4,"li",32),t&2){let e=d.$implicit,i=p();l("ngIf",i.destinationDetails.title!==e.title)}}function Z(t,d){if(t&1&&(o(0,"div",34),m(1,"app-tour-cart",35),n()),t&2){let e=d.$implicit;r(),l("tour",e)}}function tt(t,d){if(t&1&&(f(0),c(1,Z,2,1,"div",33),h()),t&2){let e=p();r(),l("ngForOf",e.filteredTours.slice(0,9))}}function et(t,d){if(t&1&&(o(0,"h2",36),s(1),n()),t&2){let e=p();r(),I(" not tour avaliable in this destination '",e.destinationDetails.title,"' ")}}var ft=(()=>{class t{constructor(e,i){this._DataService=e,this._ActivatedRoute=i,this.destinationDetails={},this.destinationSlug="",this.AllDestination=[],this.tours=[],this.filteredTours=[],this.layoutType="grid",this.galleryOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,dots:!0,smartSpeed:1500,margin:20,responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.destinationSlug=e.get("slug"),this._DataService.getDestinationBySlug(this.destinationSlug).subscribe({next:i=>{this.destinationDetails=i.data,this.showTours(this.destinationSlug),console.log("destination Details:",this.destinationDetails)},error:i=>{console.error("Error fetching destination details:",i)}})}}),this.getDestinations()}getDestinations(){this._DataService.getDestination().subscribe({next:e=>{this.AllDestination=e.data.data}})}showTours(e){this._DataService.getTours().subscribe({next:i=>{this.tours=i.data.data,console.log("Tours Data:",this.tours,this.tours.length);for(let a=0;a<this.tours.length;a++){let u=this.tours[a],x=(u.destinations??[]).map(v=>v?.slug!=null?String(v.slug).toLowerCase().trim():"");x.includes(e.toLowerCase())&&this.filteredTours.push(u),console.log(x,this.filteredTours,e)}},error:i=>{console.error("Error fetching tours:",i)}})}static{this.\u0275fac=function(i){return new(i||t)(g(R),g(B))}}static{this.\u0275cmp=_({type:t,selectors:[["app-destination-details"]],standalone:!0,features:[k],decls:46,vars:14,consts:[["elseTemplate",""],[1,"pageBanner","mb-5"],[1,"text-capitalize","text-white","fw-bold","h-100","flexCenter","justify-content-end","pb-5","mb-5","flex-column"],[1,"fw-bold"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","'\u2708\uFE0F'"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"text-decoration-none","text-white",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active","text-white"],[1,"my-5"],[1,"container"],[3,"options"],[4,"ngFor","ngForOf"],[1,"row","g-3"],[1,"col-lg-8","order-2","order-lg-1"],[1,"fw-bold","text-black","text-capitalize"],[3,"innerHTML"],[1,"col-lg-4","order-1","order-lg-2"],[1,"text-capitalize","bg-white","p-4","rounded-3","sideBar"],[1,"pb-3","border-bottom","fw-bold","text-black"],[1,"list-unstyled","mb-5"],[1,"py-2","border-bottom","cPointer","bg-secondary","bg-opacity-25","text-sm-center","rounded-3",3,"routerLink"],[1,"textMainColor","fs-5"],[1,"py-2","border-bottom","cPointer",3,"routerLink"],[1,"pb-1","fw-bold","text-black"],[1,"p-3","rounded-3","bgMainColor","opacity-50"],[1,"my-5","pt-5"],[1,"row","g-3","mb-5"],[4,"ngIf","ngIfElse"],["carouselSlide",""],[1,"rounded-3","overflow-hidden","imgHover"],["loading","lazy","height","300px",1,"w-100",3,"src","alt","title"],["class","py-2 border-bottom cPointer",3,"routerLink",4,"ngIf"],["class","col-xl-4 col-lg-6 px-3",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","px-3"],[3,"tour"],[1,"text-danger","text-capitalize"]],template:function(i,a){if(i&1&&(o(0,"section",1)(1,"div",2)(2,"h2",3),s(3,"destination details"),n(),o(4,"nav",4)(5,"ol",5)(6,"li",6)(7,"a",7),s(8,"Home"),n()(),o(9,"li",8),s(10," destination details "),n()()()()(),o(11,"section",9)(12,"div",10)(13,"owl-carousel-o",11),c(14,W,2,0,"ng-container",12),n()()(),o(15,"section",9)(16,"div",10)(17,"div",13)(18,"div",14)(19,"div")(20,"h5",15),s(21,"description"),n(),m(22,"p",16),n()(),o(23,"div",17)(24,"div",18)(25,"h5",19),s(26,"Information"),n(),o(27,"ul",20)(28,"li",21)(29,"span",22),s(30),n()(),E(31,Y,1,1,"li",23,S),n(),o(33,"h5",24),s(34,"share"),n(),o(35,"div",25),m(36,"app-social"),n()()()()()(),o(37,"section",26)(38,"div",10)(39,"div",27),c(40,tt,2,1,"ng-container",28)(41,et,2,1,"ng-template",null,0,M),n(),m(43,"app-faq-content")(44,"app-booknow"),n()(),m(45,"app-partner-slider")),i&2){let u=w(42);F(`
    background: linear-gradient(
        to right,
        rgba(0, 0, 0, 0.5),
        rgba(0, 0, 0, 0.7)
      ),
      url('`,a.destinationDetails.banner,`') center/cover no-repeat;
  `),r(7),l("routerLink",L(11,Q)),r(6),l("options",a.galleryOptions),r(),l("ngForOf",a.destinationDetails.gallery),r(8),l("innerHTML",a.destinationDetails==null?null:a.destinationDetails.description,C),r(6),l("routerLink",b(12,K,a.destinationDetails.slug)),r(2),D(a.destinationDetails.title),r(),T(a.AllDestination),r(9),l("ngIf",a.filteredTours.length!=0)("ngIfElse",u)}},dependencies:[H,q,j,$,A,O,z,P,N,J,G,U]})}}return t})();export{ft as DestinationDetailsComponent};

import{a as X}from"./chunk-CBWAVKGT.js";import{a as B}from"./chunk-JRYIPAML.js";import"./chunk-CARY4E7O.js";import{c as Y,e as g,h as A,i as j,j as G,l as f,n as V,q as H,r as U,s as $,t as J,u as K,z as Q}from"./chunk-2S53Y7XM.js";import{a as W}from"./chunk-KH7O47GI.js";import"./chunk-3LZFY6MN.js";import{Ca as a,Cc as z,Da as _,Db as o,Dc as R,Eb as O,Mb as N,Nb as L,Ta as d,Ua as F,Va as m,Xa as M,Z as w,ab as I,cb as T,db as P,eb as n,fb as e,gb as u,jc as D,nb as q,pb as c,pc as k,ya as E}from"./chunk-E3Q76OLE.js";var Z=()=>["/"];function ee(t,p){t&1&&(n(0,"span"),o(1,"name required"),e())}function te(t,p){if(t&1&&(n(0,"div",46),d(1,ee,2,0,"span",47),e()),t&2){let i,l=c();a(),m("ngIf",(i=l.registerForm.get("name"))==null?null:i.getError("required"))}}function ie(t,p){t&1&&(n(0,"span"),o(1,"email required"),e())}function ne(t,p){if(t&1&&(n(0,"div",46),d(1,ie,2,0,"span",47),e()),t&2){let i,l=c();a(),m("ngIf",(i=l.registerForm.get("email"))==null?null:i.getError("required"))}}function re(t,p){t&1&&(n(0,"span"),o(1,"password required"),e())}function oe(t,p){if(t&1&&(n(0,"div",46),d(1,re,2,0,"span",47),e()),t&2){let i,l=c();a(),m("ngIf",(i=l.registerForm.get("password"))==null?null:i.getError("required"))}}function ae(t,p){t&1&&(n(0,"span"),o(1,"password_confirmation not matched "),e())}function le(t,p){if(t&1&&(n(0,"div",46),d(1,ae,2,0,"span",47),e()),t&2){let i,l=c();a(),m("ngIf",(i=l.registerForm.get("password_confirmation"))==null?null:i.getError("required"))}}function me(t,p){t&1&&(n(0,"span"),o(1,"phone required"),e())}function pe(t,p){if(t&1&&(n(0,"div",46),d(1,me,2,0,"span",47),e()),t&2){let i,l=c();a(),m("ngIf",(i=l.registerForm.get("phone"))==null?null:i.getError("required"))}}function de(t,p){t&1&&(n(0,"span"),o(1,"birthDate required"),e())}function se(t,p){if(t&1&&(n(0,"div",46),d(1,de,2,0,"span",47),e()),t&2){let i,l=c();a(),m("ngIf",(i=l.registerForm.get("birthDate"))==null?null:i.getError("required"))}}function ue(t,p){if(t&1&&(n(0,"option",40),o(1),e()),t&2){let i=p.$implicit;m("value",i.name),a(),O(i.name)}}function ce(t,p){t&1&&(n(0,"span"),o(1,"nationality required"),e())}function ge(t,p){if(t&1&&(n(0,"div",46),d(1,ce,2,0,"span",47),e()),t&2){let i,l=c();a(),m("ngIf",(i=l.registerForm.get("nationality"))==null?null:i.getError("required"))}}function fe(t,p){t&1&&u(0,"i",48)}var Fe=(()=>{class t{constructor(i,l,r,s){this._DataService=i,this._AuthService=l,this.toastr=r,this._Router=s,this.isLoading=!1,this.countryList=[],this.registerForm=new G({name:new f("",[g.required]),email:new f("",[g.required]),password:new f("",[g.required]),password_confirmation:new f("",[g.required]),phone:new f("",[g.required]),birthdate:new f("",[g.required]),nationality:new f("",[g.required])})}ngOnInit(){this.getSettings(),this.getCountries()}getSettings(){this._DataService.getSetting().subscribe({next:i=>{console.log(i.data);let l=i.data.find(s=>s.option_key==="logo");this.logo=l?.option_value[0];let r=i.data.find(s=>s.option_key==="site_title");this.siteTitle=r?.option_value[0]},error:i=>{}})}getCountries(){this._DataService.getCountries().subscribe({next:i=>{console.log(i.data),this.countryList=i.data}})}handleRegisterForm(){this.registerForm.valid?(this.isLoading=!0,this._AuthService.setRegister(this.registerForm.value).subscribe({next:i=>{i.status==!0&&(this.isLoading=!1,this.toastr.success(i.message),this._Router.navigate(["/login"]))},error:i=>{this.isLoading=!1,this.toastr.error(i.error.message)}})):this.toastr.error("Your Data is Not valid")}static{this.\u0275fac=function(l){return new(l||t)(_(W),_(X),_(B),_(z))}}static{this.\u0275cmp=w({type:t,selectors:[["app-signup"]],standalone:!0,features:[N],decls:81,vars:18,consts:[[1,"pageBanner","mb-5",2,"background",`linear-gradient(
        to right,
        rgba(0, 0, 0, 0.5),
        rgba(0, 0, 0, 0.7)
      ),
      url('../../../assets/image/auth\\ bg.avif') center/cover no-repeat`],[1,"text-capitalize","text-white","fw-bold","h-100","flexCenter","justify-content-end","pb-5","mb-5","flex-column"],[1,"fw-bold"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","'\u2708\uFE0F'"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"text-decoration-none","text-white",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active","text-white"],[1,"my-5","py-5"],[1,"container"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"specialBorder","bg-white","p-4","sideBar"],[1,"text-center"],["width","200px","height","70px",3,"src","alt","title"],[1,"fs-5"],[1,"",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],[1,"item","position-relative"],["type","text","id","name","formControlName","name","placeholder","Your Name ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa-regular","fa-user","textMainColor"],["class","alert alert-danger mt-2",4,"ngIf"],["for","email",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","email","id","email","formControlName","email","placeholder","Your Email ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa-regular","fa-envelope","textMainColor"],["for","password",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","password","id","password","formControlName","password","placeholder","Your Password ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-lock","textMainColor"],["for","password_confirmation",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","password","id","password_confirmation","formControlName","password_confirmation","placeholder","Your Password Confirmation ",1,"form-control","p-2","ps-5","rounded-3"],["for","phone",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","tel","id","phone","formControlName","phone","placeholder","Your Phone ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-phone","textMainColor"],["for","birthdate",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","date","id","birthdate","formControlName","birthdate",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa-regular","fa-calendar-alt","textMainColor"],["for","nationality",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],[1,"item"],["formControlName","nationality","id","nationality","formControlName","nationality",1,"form-control","text-capitalize"],["value","","selected","","disabled","",1,"bg-body-secondary"],[3,"value"],["type","submit",1,"mainBtn","Btn","mb-3","w-100",3,"disabled"],["class","fa-solid fa-spinner fa-spin me-1 border-0 bg-transparent text-white",4,"ngIf"],[1,"fa","fa-paper-plane","mx-2","border-0","bg-transparent","text-white"],[1,"my-2","text-center"],["routerLink","/login",1,"textMainColor","fw-bold","cPointer"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin","me-1","border-0","bg-transparent","text-white"]],template:function(l,r){if(l&1&&(n(0,"section",0)(1,"div",1)(2,"h2",2),o(3,"sign up"),e(),n(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),o(8,"Home"),e()(),n(9,"li",7),o(10," sign up "),e()()()()(),n(11,"section",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),u(16,"img",13),n(17,"p",14),o(18,"Create your H&S account"),e()(),n(19,"form",15),q("ngSubmit",function(){return r.handleRegisterForm()}),n(20,"div",16)(21,"label",17),o(22,"full name"),e(),n(23,"div",18),u(24,"input",19)(25,"i",20),e(),d(26,te,2,1,"div",21),e(),n(27,"div",16)(28,"label",22),o(29,"email address"),e(),n(30,"div",18),u(31,"input",23)(32,"i",24),e(),d(33,ne,2,1,"div",21),e(),n(34,"div",16)(35,"label",25),o(36,"password"),e(),n(37,"div",18),u(38,"input",26)(39,"i",27),e(),d(40,oe,2,1,"div",21),e(),n(41,"div",16)(42,"label",28),o(43,"password_confirmation"),e(),n(44,"div",18),u(45,"input",29)(46,"i",27),e(),d(47,le,2,1,"div",21),e(),n(48,"div",16)(49,"label",30),o(50,"phone number"),e(),n(51,"div",18),u(52,"input",31)(53,"i",32),e(),d(54,pe,2,1,"div",21),e(),n(55,"div",16)(56,"label",33),o(57,"birth date"),e(),n(58,"div",18),u(59,"input",34)(60,"i",35),e(),d(61,se,2,1,"div",21),e(),n(62,"div",16)(63,"label",36),o(64,"nationality"),e(),n(65,"div",37)(66,"select",38)(67,"option",39),o(68," select your nationality "),e(),T(69,ue,2,2,"option",40,I),e()(),d(71,ge,2,1,"div",21),e(),n(72,"button",41),d(73,fe,1,0,"i",42),u(74,"i",43),o(75," sign up "),e()(),n(76,"p",44),o(77," Already have an account? "),n(78,"span",45),o(79,"Login"),e(),o(80," . "),e()()()()()),l&2){let s,v,b,S,h,y,x,C;a(7),m("routerLink",L(17,Z)),a(9),m("src",r.logo,E)("alt",r.siteTitle)("title",r.siteTitle),a(3),m("formGroup",r.registerForm),a(7),m("ngIf",((s=r.registerForm.get("name"))==null?null:s.errors)&&((s=r.registerForm.get("name"))==null?null:s.touched)),a(7),m("ngIf",((v=r.registerForm.get("email"))==null?null:v.errors)&&((v=r.registerForm.get("email"))==null?null:v.touched)),a(7),m("ngIf",((b=r.registerForm.get("password"))==null?null:b.errors)&&((b=r.registerForm.get("password"))==null?null:b.touched)),a(7),m("ngIf",((S=r.registerForm.get("password_confirmation"))==null?null:S.errors)&&((S=r.registerForm.get("password_confirmation"))==null?null:S.touched)),a(7),m("ngIf",((h=r.registerForm.get("phone"))==null?null:h.errors)&&((h=r.registerForm.get("phone"))==null?null:h.touched)),a(5),M("filled",!!((y=r.registerForm.get("birthdate"))!=null&&y.value)),F("data-placeholder","Birth date"),a(2),m("ngIf",((x=r.registerForm.get("birthDate"))==null?null:x.errors)&&((x=r.registerForm.get("birthDate"))==null?null:x.touched)),a(8),P(r.countryList),a(2),m("ngIf",((C=r.registerForm.get("nationality"))==null?null:C.errors)&&((C=r.registerForm.get("nationality"))==null?null:C.touched)),a(),m("disabled",r.registerForm.invalid),a(),m("ngIf",r.isLoading)}},dependencies:[R,Q,V,J,K,Y,$,A,j,H,U,k,D],styles:['.item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:12px;left:15px}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-datetime-edit{color:transparent}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus::-webkit-datetime-edit, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]::-webkit-datetime-edit{color:inherit}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{position:relative}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:before{content:attr(data-placeholder);position:absolute;left:2.5rem;top:50%;transform:translateY(-50%);color:#616879}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus:before, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]:before{content:""}']})}}return t})();export{Fe as SignupComponent};
